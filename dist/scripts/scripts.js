"use strict";angular.module("photoStickerApp",["ngAnimate","ngResource","ngRoute","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/resume.html",controller:"ResumeCtrl"}).when("/home",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/resume",{templateUrl:"views/resume.html",controller:"ResumeCtrl"}).when("/work",{templateUrl:"views/work.html",controller:"WorkCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/resume"})}]),angular.module("photoStickerApp").controller("MainCtrl",["$scope","$uibModal","$log",function(a,b,c){function d(b,c){var d=new Image;d.src=b,d.onload=function(){var b=document.createElement("canvas");b.width=d.width,b.height=d.height;var e=b.getContext("2d");e.drawImage(d,0,0);var f=b.toDataURL("image/png");a.stickersCache.push({dataURL:f,title:c}),a.$$phase||a.$apply()}}$("#mainHeader").show(),window.File&&window.FileReader&&window.FileList&&window.Blob||alert("The File APIs are not fully supported in this browser."),a.showStartOver=!1;var e=function(){var a="";for(var b in window.localStorage)window.localStorage.hasOwnProperty(b)&&(a+=window.localStorage[b]);return a?3+16*a.length/8388608:0};Math.round(e())>4999&&alert("Local Storage is exceeding 5MB limit"),a.stickersCache=[],"undefined"!=typeof Storage&&(localStorage.stickersCache?a.stickersCache=JSON.parse(localStorage.getItem("stickersCache")):a.stickersCache=[]);d("images/stickers/well-done.png","well done"),d("images/stickers/yeoman.png","yeoman"),a.open=function(){var c=b.open({animation:!0,templateUrl:"views/directives/modal-view.html",controller:"modalCtrl",resolve:{file:a.file}});c.result.then(function(b){if(a.file=b,b.id=a.stickersCache.length+1+b.title,a.stickersCache.push(b),localStorage.stickersCache)var c=angular.fromJson(localStorage.stickersCache);else c=[];c.push(b),localStorage.setItem("stickersCache",JSON.stringify(c))},function(){})}}]).controller("HeaderController",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]),angular.module("photoStickerApp").controller("AboutCtrl",["$scope",function(a){$("#mainHeader").show()}]),angular.module("photoStickerApp").controller("ContactCtrl",["$scope",function(a){$("#mainHeader").show()}]),angular.module("photoStickerApp").controller("modalCtrl",["$scope","$uibModalInstance",function(a,b){a.file={},a.submit=function(){a.file.title&&a.file.src&&b.close(a.file)},a.cancel=function(){b.dismiss("cancel")},a.getFile=function(b){if(b.type.match("image.*")){var c=new FileReader;c.onload=function(b){return function(b){a.file.dataURL=b.target.result}}(b),c.readAsDataURL(b)}}}]),angular.module("photoStickerApp").controller("ResumeCtrl",function(){$("#mainHeader").hide()}),angular.module("photoStickerApp").controller("WorkCtrl",["$scope","$uibModal","$log",function(a,b,c){function d(b,c){var d=new Image;d.src=b,d.onload=function(){var b=document.createElement("canvas");b.width=d.width,b.height=d.height;var e=b.getContext("2d");e.drawImage(d,0,0);var f=b.toDataURL("image/png");a.stickersCache.push({dataURL:f,title:c}),a.$$phase||a.$apply()}}$("#mainHeader").show(),window.File&&window.FileReader&&window.FileList&&window.Blob||alert("The File APIs are not fully supported in this browser."),a.showStartOver=!1;var e=function(){var a="";for(var b in window.localStorage)window.localStorage.hasOwnProperty(b)&&(a+=window.localStorage[b]);return a?3+16*a.length/8388608:0};Math.round(e())>4999&&alert("Local Storage is exceeding 5MB limit"),a.stickersCache=[],"undefined"!=typeof Storage&&(localStorage.stickersCache?a.stickersCache=JSON.parse(localStorage.getItem("stickersCache")):a.stickersCache=[]);d("images/stickers/well-done.png","well done"),d("images/stickers/yeoman.png","yeoman"),a.open=function(){var c=b.open({animation:!0,templateUrl:"views/directives/modal-view.html",controller:"modalCtrl",resolve:{file:a.file}});c.result.then(function(b){if(a.file=b,b.id=a.stickersCache.length+1+b.title,a.stickersCache.push(b),localStorage.stickersCache)var c=angular.fromJson(localStorage.stickersCache);else c=[];c.push(b),localStorage.setItem("stickersCache",JSON.stringify(c))},function(){})}}]),function(){function a(a){a.remember("_draggable",this),this.el=a}a.prototype.init=function(a,b){var c=this;this.constraint=a,this.value=b,this.el.on("mousedown.drag",function(a){c.start(a)}),this.el.on("touchstart.drag",function(a){c.start(a)})},a.prototype.transformPoint=function(a,b){a=a||window.event;var c=a.changedTouches&&a.changedTouches[0]||a;return this.p.x=c.pageX-(b||0),this.p.y=c.pageY,this.p.matrixTransform(this.m)},a.prototype.getBBox=function(){var a=this.el.bbox();return this.el instanceof SVG.Nested&&(a=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(a.x=this.el.x(),a.y=this.el.y()),a},a.prototype.start=function(a){if("click"!=a.type&&"mousedown"!=a.type&&"mousemove"!=a.type||1==(a.which||a.buttons)){var b=this;this.el.fire("beforedrag",{event:a,handler:this}),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var c,d=this.getBBox();if(this.el instanceof SVG.Text)switch(c=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":c/=2;break;case"start":c=0}this.startPoints={point:this.transformPoint(a,c),box:d},SVG.on(window,"mousemove.drag",function(a){b.drag(a)}),SVG.on(window,"touchmove.drag",function(a){b.drag(a)}),SVG.on(window,"mouseup.drag",function(a){b.end(a)}),SVG.on(window,"touchend.drag",function(a){b.end(a)}),this.el.fire("dragstart",{event:a,p:this.p,m:this.m,handler:this}),a.preventDefault(),a.stopPropagation()}},a.prototype.drag=function(a){var b=this.getBBox(),c=this.transformPoint(a),d=this.startPoints.box.x+c.x-this.startPoints.point.x,e=this.startPoints.box.y+c.y-this.startPoints.point.y,f=this.constraint;if(this.el.fire("dragmove",{event:a,p:this.p,m:this.m,handler:this}),"function"==typeof f){var g=f.call(this.el,d,e,this.m);"boolean"==typeof g&&(g={x:g,y:g}),g.x===!0?this.el.x(d):g.x!==!1&&this.el.x(g.x),g.y===!0?this.el.y(e):g.y!==!1&&this.el.y(g.y)}else"object"==typeof f&&(null!=f.minX&&d<f.minX?d=f.minX:null!=f.maxX&&d>f.maxX-b.width&&(d=f.maxX-b.width),null!=f.minY&&e<f.minY?e=f.minY:null!=f.maxY&&e>f.maxY-b.height&&(e=f.maxY-b.height),this.el.move(d,e))},a.prototype.end=function(a){this.drag(a),this.el.fire("dragend",{event:a,p:this.p,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(b,c){("function"==typeof b||"object"==typeof b)&&(c=b,b=!0);var d=this.remember("_draggable")||new a(this);return b="undefined"==typeof b?!0:b,b?d.init(c||{},b):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(this),angular.module("photoStickerApp").directive("imageSvg",function(){return{link:function(a,b,c){function d(b){a.clearSvg&&(i.clear(),a.clearSvg=!1);var c=i.image(b.dataURL,b.width,b.height).x(b.posX).y(b.posY);c.draggable(),j.push(c),b.selected&&(c.select().resize(),c.selected=!0),c.click(function(){j.forEach(function(a,b){a.resize("stop"),a.select(!1),a.selected=!1}),c.select().resize(),c.selected=!0})}function e(b){i.clear(),a.clearSvg=!1,h=i.image(b),h.click(function(){j.forEach(function(a,b){a.resize("stop"),a.select(!1)})}),h.size("100%","100%"),a.showStartOver=!0,a.$$phase||a.$apply()}function f(a){a.stopPropagation(),a.preventDefault();for(var b,c=a.target.files||a.dataTransfer.files,d=0;b=c[d];d++)if(b.type.match("image.*")){var f=new FileReader;h&&h.remove(),f.onload=function(a){return function(a){j=[],a.target.result&&e(a.target.result)}}(b),f.readAsDataURL(b)}}function g(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="drop Image"}var h,i=(b.find("svg")[0],SVG("mainSvg")),j=[];a.clearSvg=!0;var k=i.text("Drop photo here").move($(i.node).width()/2,$(i.node).height()/2);if(k.font({size:20,anchor:"middle",leading:1}),localStorage.getItem("dataToPersist")){var l=angular.fromJson(localStorage.getItem("dataToPersist"));l.mainImageDataURL&&e(l.mainImageDataURL),l.stickersList&&l.stickersList.forEach(function(a,b){d(a)})}var m=b.find("svg")[0],n=b.find("#fileBtn");$(m).droppable({drop:function(a,b){var c=b.draggable[0];c.posX=b.offset.left-$(this).offset().left,c.posY=b.offset.top-$(this).offset().top,c.dataURL=c.src,d(c)}}),m.addEventListener("dragover",g,!1),m.addEventListener("drop",f,!1),n.on("change",f),a.startOver=function(){localStorage.removeItem("dataToPersist"),j=[],h=null,i.clear();var b=i.text("Drop photo here").move($(m.node).width()/2,$(m.node).height()/2);b.font({size:20,anchor:"middle",leading:1}),a.clearSvg=!0},a.exportSvg=function(){j.forEach(function(a,b){a.resize("stop"),a.select(!1)});var a=document.querySelector("svg");a.setAttribute("width",$(a).width()),a.setAttribute("height",$(a).height());var b=(new XMLSerializer).serializeToString(a),c=$("<a>").attr("href","data:image/svg+xml;base64,"+btoa(b)).attr("download","file.svg").appendTo("body");c[0].click(),c.remove()},a.exportImage=function(){j.forEach(function(a,b){a.resize("stop"),a.select(!1)});var a=document.querySelector("svg");a.setAttribute("width",$(a).width()),a.setAttribute("height",$(a).height());var b=(new XMLSerializer).serializeToString(a),c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.width.animVal.value,c.height=a.height.animVal.value;var e=document.createElement("img");e.setAttribute("src","data:image/svg+xml;base64,"+btoa(b)),e.width=c.width,e.height=c.height,e.onload=function(){d.drawImage(e,0,0,e.width,e.height);var a=c.toDataURL("image/png"),b=$("<a>").attr("href",a).attr("download","img.png").appendTo("body");b[0].click(),b.remove()}},window.addEventListener("beforeunload",function(){var a={};h&&(a.mainImageDataURL=h.src);var b=[];j.forEach(function(a,c){b.push({dataURL:a.src,selected:a.selected||!1,posX:a.x(),posY:a.y()})}),a.stickersList=b,localStorage.setItem("dataToPersist",angular.toJson(a))})}}}),angular.module("photoStickerApp").directive("draggableImg",["$document",function(a){return{link:function(a,b,c){b.draggable({revert:!0,refreshPositions:!0,revertDuration:0,helper:"clone",appendTo:"body",containment:"window",scroll:!1,drag:function(a,b){b.helper.addClass("draggable")},stop:function(a,b){}})}}}]),function(){function a(a,b,c){if(b){var d="",e=b===!0?"  ":b||"";for(i=c-1;i>=0;i--)d+=e;a=d+a+"\n"}return a}SVG.extend(SVG.Element,{exportSvg:function(b,c){var d,e,f,g,h,i,j=this.node.nodeName,k="";if(b=b||{},null==b.exclude||!b.exclude.call(this)){if(b=b||{},c=c||0,this instanceof SVG.Doc&&(k+=a('<?xml version="1.0" encoding="UTF-8"?>',b.whitespace,c),f=this.attr("width"),g=this.attr("height"),b.width&&this.attr("width",b.width),b.height&&this.attr("height",b.height)),k+=a("<"+j+this.attrToString()+">",b.whitespace,c),this instanceof SVG.Doc&&(this.attr({width:f,height:g}),k+=a("<desc>Created with svg.js [http://svgjs.com]</desc>",b.whitespace,c+1),k+=this.defs().exportSvg(b,c+1)),this instanceof SVG.Parent)for(d=0,e=this.children().length;e>d;d++)SVG.Absorbee&&this.children()[d]instanceof SVG.Absorbee?(i=this.children()[d].node.cloneNode(!0),h=document.createElement("div"),h.appendChild(i),k+=h.innerHTML):k+=this.children()[d].exportSvg(b,c+1);else if(this instanceof SVG.Text||this instanceof SVG.TSpan)for(d=0,e=this.node.childNodes.length;e>d;d++)k+=this.node.childNodes[d].instance instanceof SVG.TSpan?this.node.childNodes[d].instance.exportSvg(b,c+1):this.node.childNodes[d].nodeValue.replace(/&/g,"&amp;");else SVG.ComponentTransferEffect&&this instanceof SVG.ComponentTransferEffect&&this.rgb.each(function(){k+=this.exportSvg(b,c+1)});k+=a("</"+j+">",b.whitespace,c)}return k},exportAttr:function(a){return 0==arguments.length?this.data("svg-export-attr"):this.data("svg-export-attr",a)},attrToString:function(){var a,b,c=[],d=this.exportAttr(),e=this.attr();if("object"==typeof d)for(a in d)"data-svg-export-attr"!=a&&(e[a]=d[a]);for(a in e)b=e[a],"xlink"==a?a="xmlns:xlink":"href"==a&&(e["xlink:href"]||(a="xlink:href")),"string"==typeof b&&(b=b.replace(/"/g,"'")),"data-svg-export-attr"!=a&&"href"!=a&&("stroke"!=a||parseFloat(e["stroke-width"])>0)&&c.push(a+'="'+b+'"');return c.length?" "+c.join(" "):""}})}.call(this),function(a){function b(a){this.el=a,this.parent=a.parent(SVG.Nested)||a.parent(SVG.Doc),a.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1}}b.prototype.init=function(b,c){var d=this.el.bbox();this.options={};for(var e in this.el.select.defaults)this.options[e]=this.el.select.defaults[e],c[e]!==a&&(this.options[e]=c[e]);this.nested=(this.nested||this.parent.nested()).size(d.width||1,d.height||1).transform(this.el.ctm()).move(d.x,d.y),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(b):this.selectRect(b),this.observe(),this.cleanup()},b.prototype.selectPoints=function(a){return this.pointSelection.isSelected=a,this.pointSelection.set?this:(this.pointSelection.set=this.parent.set(),this.drawCircles(),this)},b.prototype.getPointArray=function(){var a=this.el.bbox();return this.el.array().valueOf().map(function(b){return[b[0]-a.x,b[1]-a.y]})},b.prototype.drawCircles=function(){for(var a=this,b=this.getPointArray(),c=0,d=b.length;d>c;++c)this.pointSelection.set.add(this.nested.circle(this.options.radius).center(b[c][0],b[c][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").mousedown(function(b){return function(c){c=c||window.event,c.preventDefault?c.preventDefault():c.returnValue=!1,a.el.fire("point",{x:c.pageX,y:c.pageY,i:b,event:c})}}(c)))},b.prototype.updatePointSelection=function(){var a=this.getPointArray();this.pointSelection.set.each(function(b){(this.cx()!==a[b][0]||this.cy()!==a[b][1])&&this.center(a[b][0],a[b][1])})},b.prototype.updateRectSelection=function(){var a=this.el.bbox();this.rectSelection.set.get(0).attr({width:a.width,height:a.height}),this.options.points&&(this.rectSelection.set.get(2).center(a.width,0),this.rectSelection.set.get(3).center(a.width,a.height),this.rectSelection.set.get(4).center(0,a.height),this.rectSelection.set.get(5).center(a.width/2,0),this.rectSelection.set.get(6).center(a.width,a.height/2),this.rectSelection.set.get(7).center(a.width/2,a.height),this.rectSelection.set.get(8).center(0,a.height/2)),this.options.rotationPoint&&this.rectSelection.set.get(9).center(a.width/2,20)},b.prototype.selectRect=function(a){function b(a){return function(b){b=b||window.event,b.preventDefault?b.preventDefault():b.returnValue=!1,c.el.fire(a,{x:b.pageX,y:b.pageY,event:b})}}var c=this,d=this.el.bbox();this.rectSelection.isSelected=a,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(d.width,d.height).addClass(this.options.classRect)),this.options.points&&!this.rectSelection.set.get(1)&&(this.rectSelection.set.add(this.nested.circle(this.options.radius).center(0,0).attr("class",this.options.classPoints+"_lt").mousedown(b("lt"))),this.rectSelection.set.add(this.nested.circle(this.options.radius).center(d.width,0).attr("class",this.options.classPoints+"_rt").mousedown(b("rt"))),this.rectSelection.set.add(this.nested.circle(this.options.radius).center(d.width,d.height).attr("class",this.options.classPoints+"_rb").mousedown(b("rb"))),this.rectSelection.set.add(this.nested.circle(this.options.radius).center(0,d.height).attr("class",this.options.classPoints+"_lb").mousedown(b("lb"))),this.rectSelection.set.add(this.nested.circle(this.options.radius).center(d.width/2,0).attr("class",this.options.classPoints+"_t").mousedown(b("t"))),this.rectSelection.set.add(this.nested.circle(this.options.radius).center(d.width,d.height/2).attr("class",this.options.classPoints+"_r").mousedown(b("r"))),this.rectSelection.set.add(this.nested.circle(this.options.radius).center(d.width/2,d.height).attr("class",this.options.classPoints+"_b").mousedown(b("b"))),this.rectSelection.set.add(this.nested.circle(this.options.radius).center(0,d.height/2).attr("class",this.options.classPoints+"_l").mousedown(b("l"))),this.rectSelection.set.each(function(){this.addClass(c.options.classPoints)})),this.options.rotationPoint&&!this.rectSelection.set.get(9)&&this.rectSelection.set.add(this.nested.circle(this.options.radius).center(d.width/2,20).attr("class",this.options.classPoints+"_rot").mousedown(function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1,c.el.fire("rot",{x:a.pageX,y:a.pageY,event:a})}))},b.prototype.handler=function(){var a=this.el.bbox();this.nested.size(a.width||1,a.height||1).transform(this.el.ctm()).move(a.x,a.y),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},b.prototype.observe=function(){var a=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){a.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(b){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){a.handler()})},b.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{select:function(c,d){"object"==typeof c&&(d=c,c=!0);var e=this.remember("_selectHandler")||new b(this);return e.init(c===a?!0:c,d||{}),this}}),SVG.Element.prototype.select.defaults={points:!0,classRect:"svg_select_boundingRect",classPoints:"svg_select_points",radius:7,rotationPoint:!0,deepSelect:!1}}.call(this),function(){function a(a){a.remember("_resizeHandler",this),this.el=a,this.parameters={},this.lastUpdateCall=null,this.p=a.doc().node.createSVGPoint()}a.prototype.transformPoint=function(a,b,c){return this.p.x=a-(this.offset.x-window.pageXOffset),this.p.y=b-(this.offset.y-window.pageYOffset),this.p.matrixTransform(c||this.m)},a.prototype.init=function(a){var b=this;if(this.stop(),"stop"!==a){this.options={};for(var c in this.el.resize.defaults)this.options[c]=this.el.resize.defaults[c],"undefined"!=typeof a[c]&&(this.options[c]=a[c]);this.el.on("lt.resize",function(a){b.resize(a||window.event)}),this.el.on("rt.resize",function(a){b.resize(a||window.event)}),this.el.on("rb.resize",function(a){b.resize(a||window.event)}),this.el.on("lb.resize",function(a){b.resize(a||window.event)}),this.el.on("t.resize",function(a){b.resize(a||window.event)}),this.el.on("r.resize",function(a){b.resize(a||window.event)}),this.el.on("b.resize",function(a){b.resize(a||window.event)}),this.el.on("l.resize",function(a){b.resize(a||window.event)}),this.el.on("rot.resize",function(a){b.resize(a||window.event)}),this.el.on("point.resize",function(a){b.resize(a||window.event)}),this.update()}},a.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},a.prototype.resize=function(a){var b=this;if(this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset},this.parameters={p:this.transformPoint(a.detail.event.clientX,a.detail.event.clientY),x:a.detail.x,y:a.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},void 0!==a.detail.i){var c=this.el.array().valueOf();this.parameters.i=a.detail.i,this.parameters.pointCoords=[c[a.detail.i][0],c[a.detail.i][1]]}switch(a.type){case"lt":this.calc=function(a,b){var c=this.snapToGrid(a,b);this.parameters.box.width-c[0]>0&&this.parameters.box.height-c[1]>0&&this.el.move(this.parameters.box.x+c[0],this.parameters.box.y+c[1]).size(this.parameters.box.width-c[0],this.parameters.box.height-c[1])};break;case"rt":this.calc=function(a,b){var c=this.snapToGrid(a,b,2);this.parameters.box.width+c[0]>0&&this.parameters.box.height-c[1]>0&&this.el.move(this.parameters.box.x,this.parameters.box.y+c[1]).size(this.parameters.box.width+c[0],this.parameters.box.height-c[1])};break;case"rb":this.calc=function(a,b){var c=this.snapToGrid(a,b,0);this.parameters.box.width+c[0]>0&&this.parameters.box.height+c[1]>0&&this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+c[0],this.parameters.box.height+c[1])};break;case"lb":this.calc=function(a,b){var c=this.snapToGrid(a,b,1);this.parameters.box.width-c[0]>0&&this.parameters.box.height+c[1]>0&&this.el.move(this.parameters.box.x+c[0],this.parameters.box.y).size(this.parameters.box.width-c[0],this.parameters.box.height+c[1])};break;case"t":this.calc=function(a,b){var c=this.snapToGrid(a,b,2);this.parameters.box.height-c[1]>0&&this.el.move(this.parameters.box.x,this.parameters.box.y+c[1]).height(this.parameters.box.height-c[1])};break;case"r":this.calc=function(a,b){var c=this.snapToGrid(a,b,0);this.parameters.box.width+c[0]>0&&this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+c[0])};break;case"b":this.calc=function(a,b){var c=this.snapToGrid(a,b,0);this.parameters.box.height+c[1]>0&&this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+c[1])};break;case"l":this.calc=function(a,b){var c=this.snapToGrid(a,b,1);this.parameters.box.width-c[0]>0&&this.el.move(this.parameters.box.x+c[0],this.parameters.box.y).width(this.parameters.box.width-c[0])};break;case"rot":this.calc=function(a,b){var c={x:a+this.parameters.p.x,y:b+this.parameters.p.y},d=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),e=Math.atan2(c.y-this.parameters.box.y-this.parameters.box.height/2,c.x-this.parameters.box.x-this.parameters.box.width/2),f=180*(e-d)/Math.PI;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(this.parameters.rotation+f-f%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(a,b){var c=this.snapToGrid(a,b,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),d=this.el.array().valueOf();d[this.parameters.i][0]=this.parameters.pointCoords[0]+c[0],d[this.parameters.i][1]=this.parameters.pointCoords[1]+c[1],this.el.plot(d)}}SVG.on(window,"mousemove.resize",function(a){b.update(a||window.event)}),SVG.on(window,"mouseup.resize",function(){b.done()})},a.prototype.update=function(a){if(!a)return void(this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1]));var b=this.transformPoint(a.clientX,a.clientY),c=b.x-this.parameters.p.x,d=b.y-this.parameters.p.y;this.lastUpdateCall=[c,d],this.calc(c,d)},a.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),this.el.fire("resizedone")},a.prototype.snapToGrid=function(a,b,c,d){var e;return d?e=[(c+a)%this.options.snapToGrid,(d+b)%this.options.snapToGrid]:(c=null==c?3:c,e=[(this.parameters.box.x+a+(1&c?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+b+(2&c?0:this.parameters.box.height))%this.options.snapToGrid]),a-=(Math.abs(e[0])<this.options.snapToGrid/2?e[0]:e[0]-this.options.snapToGrid)+(e[0]<0?this.options.snapToGrid:0),b-=(Math.abs(e[1])<this.options.snapToGrid/2?e[1]:e[1]-this.options.snapToGrid)+(e[1]<0?this.options.snapToGrid:0),[a,b]},SVG.extend(SVG.Element,{resize:function(b){return(this.remember("_resizeHandler")||new a(this)).init(b||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1}}.call(this),angular.module("photoStickerApp").directive("ngFileSelect",function(){return{link:function(a,b){b.bind("change",function(b){a.imageFile=(b.srcElement||b.target).files[0],a.file.src=a.imageFile.name,a.$apply(),a.getFile(a.imageFile)})}}}),angular.module("photoStickerApp").directive("stickerItem",["$document",function(a){return{templateUrl:"views/directives/sticker-item.html",restrict:"E",scope:!1,link:function(a,b,c){a.removeSticker=function(b){var c=a.stickersCache.indexOf(b);c>-1&&a.stickersCache.splice(c,1);var d=angular.fromJson(localStorage.stickersCache),e=d.indexOf(b);d.splice(e,1),localStorage.stickersCache=angular.toJson(d)}}}}]),angular.module("photoStickerApp").run(["$templateCache",function(a){a.put("views/about.html",'<p>This is photo sticker application built in angular js .</p> <p>Following other libraries have been used <uo> <li>Jquery</li> <li>Svg.js</li> </uo> </p> <p>github Repositery for this project is <a href="https://github.com/shahzad31/PhotoStickerApp">https://github.com/shahzad31/PhotoStickerApp</a></p>'),a.put("views/contact.html",'<div class="container"> <section> <span class="contactText" style="font-size: large">I am currently available for contract or full time work and would love to hear from you, <br> contact me at</span> <div><a href="mailto:me@mshahzad.com?Subject=Hello%20Shahzad" target="_blank">me@mshahzad.com</a></div> <div>Phone No: +92-333-5388078</div> </section> </div>'),a.put("views/directives/image-svg.html",""),a.put("views/directives/modal-view.html",'<div class="modal-header"> <h3 class="modal-title">Upload New Sticker</h3> </div> <div class="modal-body"> <form class="form-horizontal"> <div class="form-group"> <label for="inputSticker" class="col-sm-3 control-label">Sticker Name</label> <div class="col-sm-6"> <input type="text" class="form-control" ng-model="file.title" id="inputSticker" placeholder="Sticker Name" autofocus required> </div> </div> <div class="form-group"> <label for="inputSticker" class="col-sm-3 control-label">File Source</label> <div class="col-sm-6"> <input type="text" class="form-control" ng-model="file.src" id="fileName" placeholder="File Name" required ng-readonly="true"> </div> <form action="" method="post" enctype="multipart/form-data"> <div class="upload col-sm-4"> <input type="file" name="upload" ng-file-select> </div> </form> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" type="submit" ng-click="submit()">Submit</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> </div>'),a.put("views/directives/sticker-item.html",'<!--Layout of a sticker item--> <div class="col-xs-6 col-centered col-min sticker-main"> <div class="sticker-item" ng-mouseover="mouseOver=true" ng-mouseleave="mouseOver=false"> <span class="glyphicon glyphicon-remove" title="Remove this sticker" ng-click="removeSticker(sticker)" ng-show="mouseOver" aria-hidden="true"></span> <h4 class="headline"> {{sticker.title}} </h4> <image class="sticker-image" ng-src="{{sticker.dataURL}}" draggable-img></image> </div> </div>'),a.put("views/main.html",'<div class="container" image-svg> <div class="row"> <div class="col-lg-8"> <div class="jumbotron svg-area"> <!--using ng-class instead of ng-show because it was disturbing layout--> <button ng-class="{\'hideStartOverClass\': !showStartOver}" class="start-over-button btn btn-danger col-xs-2 pull-right" ng-click="startOver()">Start Over</button> <div class="svgContainer"> <svg id="mainSvg"></svg> </div> <div class="btnArea"> <input type="file" class="col-xs-10" id="fileBtn" name="img" accept="image/*"> <div> <div class="btn-group" uib-dropdown is-open="status.isopen"> <button id="single-button" type="button" class="btn btn-success" uib-dropdown-toggle ng-disabled="disabled"> Export As <span class="caret"></span> </button> <ul class="uib-dropdown-menu" role="menu" aria-labelledby="single-button"> <li role="menuitem"><a ng-click="exportImage()">image/png</a></li> <li role="menuitem"><a ng-click="exportSvg()">svg+xml</a></li> </ul> </div> </div> </div> </div> </div> <div class="col-lg-4"> <div class="jumbotron sticker-area"> <button class="btn btn-md btn-primary" ng-click="open()" type="submit">Upload new sticker</button> <div class="stickers"> <sticker-item ng-repeat="(index, sticker) in stickersCache"></sticker-item> </div> </div> </div> </div> </div>'),a.put("views/resume.html",'<header class="resumeHeader" style="left: 0px"> <nav> <div class="navbar"> <button> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> </div> <ul class="collapsed"> <li> <a class="ajax about" href="#/about"> <h3>About</h3> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="120px" height="15px" viewbox="-52.5 0 120 15" enable-background="new -52.5 0 120 15" xml:space="preserve" style="fill: rgb(0, 0, 0)"> <path d="M13.79,5.677c0.763-0.763,0.996-1.854,0.703-2.818l-1.515,1.514L11.5,3.977L11.104,2.5l1.517-1.516\n						c-0.966-0.293-2.056-0.06-2.819,0.704C9.038,2.452,8.925,3.423,9.295,4.314L7.718,5.888c-0.023-0.06-0.057-0.117-0.106-0.165\n						L7.19,5.301c-0.182-0.181-0.474-0.181-0.655,0l-0.36,0.372L3.817,3.314L3.689,2.856L3.688,2.857\n						c-0.013-0.096-0.056-0.188-0.13-0.262L1.493,1.093c-0.18-0.181-0.418-0.236-0.531-0.124l-0.52,0.52\n						C0.331,1.602,0.386,1.839,0.566,2.02l1.502,2.064c0.074,0.073,0.167,0.117,0.262,0.13l0,0l0.452,0.082L5.16,6.674L4.775,7.062\n						c-0.181,0.181-0.181,0.474,0,0.653l0.422,0.424c0.048,0.049,0.105,0.082,0.164,0.103l-3.587,3.583\n						c-0.006,0.007-0.01,0.014-0.016,0.021l0,0c-0.521,0.521-0.521,1.363,0,1.885c0.519,0.519,1.358,0.52,1.878,0.004\n						c0.01-0.008,0.019-0.014,0.028-0.021l3.249-3.263l3.351,3.354c0.448,0.445,1.172,0.445,1.62-0.002l1.384-1.383\n						c0.445-0.447,0.445-1.173,0-1.619L9.91,7.443l1.254-1.259C12.055,6.553,13.025,6.441,13.79,5.677z M2.792,13.3\n						c-0.227,0.087-0.479-0.028-0.564-0.258c-0.085-0.226,0.03-0.479,0.256-0.563c0.227-0.086,0.48,0.028,0.564,0.256\n						C3.134,12.961,3.02,13.215,2.792,13.3z M5.675,5.917c-0.085,0.084-0.224,0.084-0.309,0l-4.317-4.32l0.14-0.14\n						c0.057-0.059,0.179-0.03,0.273,0.063l1.814,1.525C3.314,3.084,3.336,3.13,3.343,3.18h0.001c0.007,0.063,0.033,0.122,0.075,0.173\n						l2.254,2.253C5.76,5.693,5.76,5.832,5.675,5.917z M7.187,6.354L6.471,7.07L6.027,6.624l0.715-0.715c0.105-0.105,0.274-0.105,0.379,0\n						l0.066,0.065C7.292,6.079,7.292,6.249,7.187,6.354z M12.867,11.27c0.203,0.205,0.203,0.539,0,0.744l-0.701,0.7L7.291,7.839\n						C7.508,7.595,7.896,7.616,8.146,7.87l2.863,2.86c0.065,0.065,0.172,0.065,0.238,0c0.064-0.064,0.064-0.172,0-0.236L8.387,7.633\n						C8.131,7.376,8.109,6.981,8.363,6.766L12.867,11.27z"></path> <line fill="none" stroke="#000000" x1="-42.5" y1="7.25" x2="-4.5" y2="7.25" style="stroke: rgb(0, 0, 0)"></line> <line fill="none" stroke="#000000" x1="19.5" y1="7.25" x2="57.5" y2="7.25" style="stroke: rgb(0, 0, 0)"></line> </svg> <span class="subtitle">The One And Only</span> </a> </li> <li> <a class="ajax work" href="#/work"> <h3>Work</h3> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="120px" height="15px" viewbox="-52.5 0 120 15" enable-background="new -52.5 0 120 15" xml:space="preserve" style="fill: rgb(0, 0, 0)"> <g><polygon points="4.182,13.166 4.182,13.35 4.182,13.604 10.818,13.604 10.818,13.35 10.818,13.166 10.818,12.91 4.182,12.91"></polygon><path d="M13.559,1.396H1.516c-0.45,0-0.816,0.326-0.816,0.776v8.777c0,0.449,0.366,0.918,0.816,0.918h3.609 c0.247,0.14,0.414,0.402,0.414,0.705c0,0.003-0.001,0.007-0.001,0.009h3.999c0-0.002-0.001-0.006-0.001-0.009 c0-0.303,0.167-0.565,0.413-0.705h3.609c0.449,0,0.742-0.469,0.742-0.918V2.172C14.301,1.722,14.008,1.396,13.559,1.396z M13.252,10.508h-0.514c-0.171,0-0.309-0.102-0.309-0.272c0-0.17,0.138-0.271,0.309-0.271h0.514c0.17,0,0.308,0.102,0.308,0.271 C13.56,10.406,13.422,10.508,13.252,10.508z M1.379,9.011V2.075h12.179l0.001,6.936H1.379z"></path></g> <line fill="none" stroke="#000000" x1="-42.5" y1="7.25" x2="-4.5" y2="7.25" style="stroke: rgb(0, 0, 0)"></line> <line fill="none" stroke="#000000" x1="19.5" y1="7.25" x2="57.5" y2="7.25" style="stroke: rgb(0, 0, 0)"></line> </svg> <span class="subtitle">View Case Studies</span> </a> </li> <li> <a class="ajax contact" href="#/contact"> <h3>Contact</h3> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="120px" height="15px" viewbox="-52.5 0 120 15" enable-background="new -52.5 0 120 15" xml:space="preserve" style="fill: rgb(0, 0, 0)"> <g class="phone"> <path d="M1.758,2.944c0.002,0,3.081-0.771,5.741-0.771c2.659,0,5.74,0.771,5.743,0.771c1.134,0.261,1.84,1.392,1.578,2.525\n								C14.629,6.3,13.972,6.9,13.188,7.06l-2.494-1.704c-0.048-0.269-0.042-0.551,0.023-0.834c0.038-0.165,0.095-0.321,0.167-0.467\n								C9.944,3.955,8.741,3.862,7.5,3.862c-1.24,0-2.443,0.092-3.383,0.193c0.072,0.146,0.13,0.302,0.168,0.467\n								c0.065,0.283,0.07,0.565,0.023,0.834L0.524,6.229c-0.16-0.221-0.279-0.477-0.344-0.76C-0.082,4.336,0.625,3.206,1.758,2.944z\n								 M10.031,4.206c0.523,2.1,1.761,3.917,3.44,5.177v3.444H1.529V9.383c1.679-1.261,2.916-3.078,3.439-5.177\n								c0.271-0.023,0.554-0.043,0.847-0.061v0.877h3.37V4.146C9.478,4.162,9.761,4.183,10.031,4.206z M10.102,8.49\n								c0-1.436-1.164-2.601-2.602-2.601c-1.437,0-2.601,1.166-2.601,2.601c0,1.437,1.164,2.603,2.601,2.603\n								C8.938,11.093,10.102,9.927,10.102,8.49z M9.185,8.49c0,0.931-0.754,1.686-1.685,1.686c-0.93,0-1.685-0.755-1.685-1.686\n								c0-0.93,0.754-1.685,1.685-1.685C8.431,6.806,9.185,7.561,9.185,8.49z"></path> </g> <line fill="none" stroke="#000000" x1="-42.5" y1="7.25" x2="-4.5" y2="7.25" style="stroke: rgb(0, 0, 0)"></line> <line fill="none" stroke="#000000" x1="19.5" y1="7.25" x2="57.5" y2="7.25" style="stroke: rgb(0, 0, 0)"></line> </svg> <span class="subtitle">Let\'s get in touch</span> </a> </li> </ul> </nav> <div class="progress-bar"></div> </header> <div id="main" class="resume"> <div class="wrapper" data-title="Resume | Michael Ngo | Front-end Developer"> <div class="content"> <div class="resumeContainer"> <h1 class="heading"> <span>M Shahzad</span> <span class="subtitle">me@mshahzad.com • +92-333-5388078</span> <span class="subtitle">Lahore, Punjab, Pakistan</span> </h1> <section class="row"> <div class="col-xs-3"> <h3>Profile</h3> </div> <div class="col-xs-8 border"> <p>Though I\'ve pretty diverse skill set, my expertise lies in front-end development. I have a passion for solving problems, constantly perfecting my craft, and producing work that I can be proud of. I\'m currently open to any sort of opportunities, so if you\'re interested in hiring me, check out <a class="ajax" href="#/work">my work</a>, and let\'s <a class="ajax" href="#/contact">get in touch</a>. </p> </div> </section> <section class="row"> <div class="col-xs-3"> <h3>Work <br>Experience</h3> </div> <div class="col-xs-8 border"> <div class="position"> <h4>Gallery Systems <span class="subtitle">Front-End Developer | Aug 2014 - Present</span></h4> <p>Working on enterprise single page application, responsibilities included , creating flexible views, widgets, handling security and internationalization in application. Using html templates integrated with js to develop data entry form and modals. Working on advanced museum web applications , particularly large scale single page application using dojo toolkit,javascript,html,css. Following client side Model View Controller integrated to back-end with REST API\'s built in Java. Project http://www.gallerysystems.com/products-and-services/conservation-studio/ Technology Stack: JavaScript, html, css, Java, Sql Server, Webstorm, Eclipse</p> </div> <div class="position"> <h4>Id Technologies<span class="subtitle">Web Developer | Jun 2013 - Jul 2014</span></h4> <p>Developed Enterprise web applications while working in idtechnologies working at front end as well as developed back end REST API\'s in php, projects include 1. Enterprise Resource Planning web application 2. Fleet Management System 3 GIS Asset Management System 4. ESDN Android Map Viewer/Editor/Uploader Languages i worked on while working in idtechnolgies Javascript, html, css, c# , Android, php, postgresql Tools i used PhpEd, Visual Studio, phpmyadmin, ArcGis Server, Linux(ubuntu + Redhat) Worked on latest web technologies Including Enterprise resource planning Geographic information system using google maps and open street maps server with ESRI software and tools in languages javascript ,php,c#,andriod, dojo</p> </div> <div class="position"> <h4>MIEMS Labs <span class="subtitle">Computer Programmer | Jan 2012 - May 2013</span></h4> <p>Responsible for designing and developing the splash page of Futureshop.ca on a weekly basis. With over 300,000 daily hits, abided by a strict and thorough proofing process. Worked at length with art directors, business managers, and marketers to ensure peak sales of online products.</p> </div> <div class="position"> <h4>Freelance + Consultancy Services <span class="subtitle">Wordpress Developer | Feb 2008 - Present</span></h4> <p>Worked on software module of MIEMS Lab’s project on Robocup Small Size League  Designed and developed an intelligent software agent to autonomously control multiple Omni-directional robots in a small size soccer field  Integrated software and hardware modules using Vision software provided by Robocup SSL federation and x-bee communication modules  Qualified and participated in Small Size League in Robocup 2013 Netherlands as a part of team Emenents</p> </div> </div> </section> <section class="row"> <div class="col-xs-3"> <h3>Education</h3> </div> <div class="col-xs-8 border"> <div class="position"> <h4>NUST Islamabad<span class="subtitle">B.E - Computer Engineering 2009 - 2013</span></h4> <p>Thorough understanding of computer programming/Operating systems with focus on algorithms implementation &amp; research in AI</p> </div> <div class="position"> <h4>LUMS Lahore<span class="subtitle">MS - Computer Science 2013 - </span></h4> <p>Advance Operating Systems, Computer System Architecture</p> </div> </div> </section> <section class="technical row"> <div class="col-xs-3"> <h3>Technical <br>Expertise</h3> </div> <div class="col-xs-8"> <div class="row border"> <div class="col-xs-5 alpha"> <h4>Professional Skillset</h4> <ul> <li>Modular Javascript</li> <li>W3C Validated HTML5</li> <li>CSS3 via SASS &amp; Compass, LESS</li> <li>Angular JS, Dojo Toolkit</li> <li>jQuery, ajax, modernizr</li> <li>Website optimization + cross browser capabilities</li> </ul> </div> <div class="col-xs-4 working-knowledge"> <h4>Working Knowledge</h4> <ul> <li>Grunt &amp; Gulp</li> <li>Core PHP</li> </ul> </div> <div class="col-xs-3 omega"> <h4>Tools</h4> <ul> <li>Web Storm IDE</li> <li>SublimeText 2</li> <li>Github</li> <li>Eclipse &amp; Netbeans</li> <li>Stack Overflow</li> </ul> </div> </div> </div> </section> <section class="awards row"> <div class="col-xs-3"> <h3>Awards &amp; Recognition</h3> </div> <div class="col-xs-9"> <ul> <li>Rector NUST Gold Medalist In Final Year Engineering Project(B.E)</li> <li>Participated in RoboCup International Small size league 2013,Netherland (Part of First ever team from South Asia) as Software Developer of Artificial Intelligent Server.</li> <li>Got Third Position in All Pakistan Computer Project Exhibition and Competition 2013 held at CEME NUST.</li> <li>Qualified for RoboCup Iran Open SSL 2013.</li> </ul> </div> </section> </div> </div> </div> </div> <div class="cover" style="display: none"></div>'),
a.put("views/work.html",'<div class="container" image-svg> <div class="row"> <div class="col-lg-8"> <div class="jumbotron svg-area"> <!--using ng-class instead of ng-show because it was disturbing layout--> <button ng-class="{\'hideStartOverClass\': !showStartOver}" class="start-over-button btn btn-danger col-xs-2 pull-right" ng-click="startOver()">Start Over</button> <div class="svgContainer"> <svg id="mainSvg"></svg> </div> <div class="btnArea"> <input type="file" class="col-xs-10" id="fileBtn" name="img" accept="image/*"> <div> <div class="btn-group" uib-dropdown is-open="status.isopen"> <button id="single-button" type="button" class="btn btn-success" uib-dropdown-toggle ng-disabled="disabled"> Export As <span class="caret"></span> </button> <ul class="uib-dropdown-menu" role="menu" aria-labelledby="single-button"> <li role="menuitem"><a ng-click="exportImage()">image/png</a></li> <li role="menuitem"><a ng-click="exportSvg()">svg+xml</a></li> </ul> </div> </div> </div> </div> </div> <div class="col-lg-4"> <div class="jumbotron sticker-area"> <button class="btn btn-md btn-primary" ng-click="open()" type="submit">Upload new sticker</button> <div class="stickers"> <sticker-item ng-repeat="(index, sticker) in stickersCache"></sticker-item> </div> </div> </div> </div> <div>Photo Sticker Application is present at GitHub <div class="emailMe gitIcon"><a href="https://github.com/shahzad31/PhotoStickerApp" target="_blank"></a></div> </div> </div>')}]);